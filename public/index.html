<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
	<head>
		<title>Destriant: a stock portfolio overview tool</title>
		<meta charset="utf-8" />
		<link rel="stylesheet" href="ext/bootstrap.min.css" />
		<link rel="stylesheet" href="destriant.css" />
		<script src="ext/jquery.min.js" defer="defer"></script>
		<script src="ext/bootstrap.bundle.min.js" defer="defer"></script>
		<script src="ext/localforage.min.js" defer="defer"></script>
		<script src="destriant.js" defer="defer"></script>
	</head>
	<body>
		<nav class="navbar navbar-fixed-top navbar-expand-sm navbar-light bg-light p-1 pl-2 pr-2">
			<a class="navbar-brand p-link" data-target="welcome" href="#"><img  style="height: 1.8em; margin: -0.6em 0 -0.2em 0;" alt="Destriant" src="destriant.svg" /><sup class="text-uppercase badge badge-danger">Devel</sup></a>
			<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarMainContent">
				<span class="navbar-toggler-icon"></span>
			</button>
			<div class="collapse navbar-collapse" id="navbarMainContent">
				<ul class="navbar-nav navbar-left">
					<li class="navbar-item"><a class="nav-link p-link" data-target="perf" href="#">Performance</a></li>
					<li class="navbar-item"><a class="nav-link p-link" data-target="pf" href="#">Portfolio</a></li>
					<li class="navbar-item"><a class="nav-link p-link" data-target="pnl" href="#">P/L Analysis</a></li>
				</ul>
				<ul class="navbar-nav ml-auto">
					<li id="navbarTools" class="nav-item dropdown">
						<a class="nav-link dropdown-toggle" href="#" data-toggle="dropdown">Tools</a>
						<div class="dropdown-menu dropdown-menu-right">
							<a data-target="acct-editor" class="p-link dropdown-item" href="#">Accounts…</a>
							<a data-target="security-editor" class="p-link dropdown-item" href="#">Securities…</a>
							<a data-target="tx-editor" class="p-link dropdown-item" href="#">Transactions…</a>
							<a data-target="price-editor" class="p-link dropdown-item" href="#">Prices…</a>
							<div class="dropdown-divider"></div>
							<a id="nav-save-pf" class="dropdown-item" href="#">Export portfolio…</a>
							<a id="nav-load-pf" class="dropdown-item" href="#">Import portfolio…</a>
							<a data-target="settings" class="p-link dropdown-item" href="#">Settings…</a>
						</div>
					</li>
				</ul>
				<form class="form-inline ml-2">
					<select id="main-account-selector" class="form-control">
						<option value="-1">All accounts, EUR 0.00</option>
					</select>
				</form>
			</div>
		</nav>
		<p class="alert alert-primary" id="js-warning">
			<strong>Destriant is now loading its scripts.</strong> If this seems slow, make sure that Javascript is enabled in your browser. (Destriant will not load scripts from any third party sites, or track you in any way.)
		</p>
		<div id="welcome" class="p container">
			<div class="jumbotron mt-4">
				<h1>Track your stock portfolio with style!</h1>
				<p class="lead"><strong>Destriant</strong> <small>\'dɛs.tɹɪ.ənt\</small> is a stock portfolio overview tool that runs entirely in the browser.</p>
				<p>Destriant is the spiritual successor of <a href="https://github.com/Artefact2/pfm">pfm</a>. It is libre, serverless and respects your personal data and privacy. Check out the <a href="https://gitlab.com/artefact2/destriant">source code</a>.</p>
				<p>
					<button class="btn btn-primary btn-lg" disabled="disabled">Load a demo portfolio</button>
					<button class="btn btn-secondary btn-lg" id="welcome-import-pf">Import a portfolio</button>
					or start inputting your accounts, securities and transactions in the “Tools” menu. <a href="https://gitlab.com/artefact2/destriant/tree/master/tools">Conversion scripts</a> are also available.
				</p>
				<hr />
				<p class="alert alert-warning">
					<strong>Destriant is experimental software. Some features are incomplete, or not implemented at all. Please <a href="https://gitlab.com/artefact2/destriant/issues/new">report issues or give feedback</a>.</strong>
				</p>
			</div>
		</div>
		<div id="acct-editor" class="p container">
			<h1 class="d-flex justify-content-between align-items-end">
				<span>Accounts</span>
				<button class="btn btn-primary" id="acct-editor-new-acct">New account</button>
			</h1>
			<table class="table table-striped">
				<thead>
					<tr>
						<th scope="col">#</th>
						<th scope="col">Name</th>
						<th scope="col">Currency</th>
						<th scope="col">Transaction fees</th>
						<th scope="col" class="text-right">Actions</th>
					</tr>
				</thead>
				<tbody></tbody>
			</table>
			<div class="modal fade" tabindex="-1" role="dialog" id="acct-editor-modal">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<form>
							<div class="modal-header">
								<h4 class="modal-title"></h4>
							</div>
							<div class="modal-content">
								<div class="form-group">
									<label for="acct-editor-acct-name">Account name</label>
									<input type="text" class="form-control" id="acct-editor-acct-name" placeholder="eg Foo Bank #1234" required="required" />
								</div>
								<div class="form-group">
									<label for="acct-editor-acct-ccy">Base currency</label>
									<select class="form-control" id="acct-editor-acct-ccy" required="required"></select>
								</div>
								<div class="form-row">
									<label class="col-12">Transaction fee pricing (for est. closing costs)</label>
									<div class="form-group col-md-6">
										<label for="acct-editor-fee-flat">Flat</label>
										<div class="input-group">
											<div class="input-group-prepend"><div class="input-group-text acct-editor-fee-currency"></div></div>
											<input type="number" step="any" min="0" class="form-control" id="acct-editor-fee-flat" placeholder="eg 2.0" />
										</div>
									</div>
									<div class="form-group col-md-6">
										<label for="acct-editor-fee-percent">Percentage</label>
										<div class="input-group">
											<div class="input-group-prepend"><div class="input-group-text acct-editor-fee-currency"></div></div>
											<input type="number" step="any" min="0" max="100" class="form-control" id="acct-editor-fee-percent" placeholder="eg 0.02" />
										</div>
									</div>
									<div class="form-group col-md-6">
										<label for="acct-editor-fee-pershare">Per share</label>
										<div class="input-group">
											<div class="input-group-prepend"><div class="input-group-text acct-editor-fee-currency"></div></div>
											<input type="number" step="any" min="0" class="form-control" id="acct-editor-fee-pershare" placeholder="eg 0.004" />
										</div>
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-secondary" id="acct-editor-modal-cancel">Cancel</button>
								<button type="submit" class="btn btn-primary" id="acct-editor-modal-save">Save</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
		<div id="security-editor" class="p container">
			<h1 class="d-flex justify-content-between align-items-end">
				<span>Securities</span>
				<button class="btn btn-primary" id="security-editor-new-security">New security</button>
			</h1>
			<table class="table table-striped">
				<thead>
					<tr>
						<th scope="col">Ticker</th>
						<th scope="col">Name</th>
						<th scope="col">ISIN</th>
						<th scope="col">Exchange</th>
						<th scope="col">Currency</th>
						<th scope="col" class="text-right">Actions</th>
					</tr>
				</thead>
				<tbody></tbody>
			</table>
			<div class="modal fade" tabindex="-1" role="dialog" id="security-editor-modal">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<form>
							<div class="modal-header">
								<h4 class="modal-title"></h4>
							</div>
							<div class="modal-content">
								<div class="form-group">
									<label for="security-editor-name">Security name</label>
									<input type="text" class="form-control" id="security-editor-name" placeholder="eg Air Liquide" required="required" />
								</div>
								<div class="form-row">
									<div class="form-group col-md-6">
										<label for="security-editor-ticker">Ticker / Mnemonic</label>
										<input type="text" class="form-control" id="security-editor-ticker" placeholder="eg AI" required="required"  />
									</div>
									<div class="form-group col-md-6">
										<label for="security-editor-isin">ISIN</label>
										<input type="text" class="form-control" id="security-editor-isin" placeholder="eg FR0000120073" />
									</div>
								</div>
								<div class="form-row">
									<div class="form-group col-md-6">
										<label for="security-editor-ccy">Currency</label>
										<select class="form-control" id="security-editor-ccy" required="required"></select>
									</div>
									<div class="form-group col-md-6">
										<label for="security-editor-exchange">Exchange</label>
										<select class="form-control" id="security-editor-exchange" required="required"></select>
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-secondary" id="security-editor-modal-cancel">Cancel</button>
								<button type="submit" class="btn btn-primary" id="security-editor-modal-save">Save</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
		<div class="p container" id="tx-editor">
			<h1 class="d-flex justify-content-between align-items-end">
				<span>Transactions</span>
				<button class="btn btn-primary" id="tx-editor-new-tx">Input transaction</button>
			</h1>
			<table class="table table-sm table-striped">
				<thead>
					<tr><th colspan="10">
							<form class="form-inline" id="tx-editor-filter">
								<select class="form-control form-control-sm" style="max-width: 20em;" id="tx-editor-filter-account">
									<option value="__all__">All accounts</option>
								</select>
								<select class="form-control form-control-sm ml-4" style="max-width: 20em;" id="tx-editor-filter-security">
									<option value="__all__">All securities</option>
								</select>
								<label for="tx-editor-filter-after" class="ml-4 mr-1">Start date</label>
								<input type="date" id="tx-editor-filter-after" class="form-control form-control-sm" placeholder="YYYY-MM-DD" pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}" />
								<label for="tx-editor-filter-before" class="ml-4 mr-1">End date</label>
								<input type="date" id="tx-editor-filter-before" class="form-control form-control-sm" placeholder="YYYY-MM-DD" pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}" />
								<button type="submit" class="btn btn-primary btn-sm ml-auto">Filter transactions</button>
							</form>
					</th></tr>
					<tr>
						<th scope="col">#</th>
						<th scope="col">Date</th>
						<th scope="col">Type</th>
						<th scope="col">Account</th>
						<th scope="col">Security</th>
						<th scope="col" class="text-right">Quantity / Amount</th>
						<th scope="col" class="text-right">Price</th>
						<th scope="col" class="text-right">Fee</th>
						<th scope="col" class="text-right">Total</th>
						<th scope="col" class="text-right">Actions</th>
					</tr>
				</thead>
				<tbody></tbody>
			</table>
			<div class="modal fade" tabindex="-1" role="dialog" id="tx-editor-modal">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<form>
							<div class="modal-header">
								<h4 class="modal-title"></h4>
							</div>
							<div class="modal-content">
								<div class="form-row">
									<div class="form-group col-md-6">
										<label for="tx-editor-account">Account</label>
										<select class="form-control maybe-disable enable-security enable-sdividend enable-cdividend enable-cash enable-cgain" id="tx-editor-account"></select>
									</div>
									<div class="form-group col-md-6">
										<label for="tx-editor-type">Transaction type</label>
										<select class="form-control" id="tx-editor-type" required="required">
											<option value="security">Buy or sell security</option>
											<option value="cdividend">Cash dividend</option>
											<option value="sdividend">Stock dividend</option>
											<option value="cash">Cash deposit or withdrawal</option>
											<option value="cgain">Deposit interest or margin interest</option>
											<option value="split">Security split or merge</option>
										</select>
									</div>
								</div>
								<div class="form-group">
									<label for="tx-editor-date">Transaction date</label>
									<input type="date" id="tx-editor-date" class="form-control" placeholder="YYYY-MM-DD" required="required" pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}" />
								</div>
								<div class="form-group maybe-hide show-security show-cdividend show-sdividend show-split">
									<label for="tx-editor-security">Security</label>
									<select class="form-control" id="tx-editor-security"></select>
								</div>
								<div class="form-row maybe-hide show-security show-sdividend">
									<div class="form-group col-md-6">
										<label for="tx-editor-quantity">Quantity</label>
										<input type="number" id="tx-editor-quantity" step="any" class="form-control" placeholder="eg 12.3 or blank" />
									</div>
									<div class="form-group col-md-6 maybe-hide show-security show-sdividend">
										<label for="tx-editor-price">Price</label>
										<div class="input-group">
											<div class="input-group-prepend"><div class="input-group-text" id="tx-editor-price-currency"></div></div>
											<input type="number" id="tx-editor-price" step="any" class="form-control maybe-disable enable-security" placeholder="eg 45.67 or blank" />
										</div>
									</div>
								</div>
								<div class="form-group maybe-hide show-cdividend show-cash show-cgain">
									<label for="tx-editor-amount">Amount</label>
									<div class="input-group">
										<div class="input-group-prepend"><div class="input-group-text" id="tx-editor-amount-currency"></div></div>
										<input type="number" id="tx-editor-amount" step="any" class="form-control" placeholder="eg 23.45 or blank" />
									</div>
								</div>
								<div class="form-row maybe-hide show-cdividend show-sdividend show-cash show-cgain show-security">
									<div class="form-group col-md-6">
										<label for="tx-editor-fee">Fee</label>
										<div class="input-group">
											<div class="input-group-prepend"><div class="input-group-text" id="tx-editor-fee-currency"></div></div>
											<input type="number" id="tx-editor-fee" step="any" class="form-control" placeholder="eg 1.23 or blank" />
										</div>
									</div>
									<div class="form-group col-md-6">
										<label for="tx-editor-total">Total (incl. fee)</label>
										<div class="input-group">
											<div class="input-group-prepend"><div class="input-group-text" id="tx-editor-total-currency"></div></div>
											<input type="number" id="tx-editor-total" step="any" class="form-control" placeholder="eg 123.45 or blank" />
										</div>
									</div>
								</div>
								<div class="form-row maybe-hide show-split">
									<div class="form-group col-md-6">
										<label for="tx-editor-split-before">Quantity before</label>
										<input type="number" id="tx-editor-split-before" step="any" class="form-control" placeholder="eg 1" />
									</div>
									<div class="form-group col-md-6">
										<label for="tx-editor-split-after">Quantity after</label>
										<input type="number" id="tx-editor-split-after" step="any" class="form-control" placeholder="eg 5" />
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-secondary" id="tx-editor-modal-cancel">Cancel</button>
								<button type="submit" class="btn btn-primary" id="tx-editor-modal-save">Save</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
		<div class="p container" id="price-editor">
			<h1 class="d-flex justify-content-between align-items-end">
				<span>Price database</span>
				<span>
					<button class="btn btn-primary" id="price-editor-fetch">Fetch online prices</button>
					<button class="btn btn-secondary" id="price-editor-new">Input price manually</button>
				</span>
			</h1>
			<table class="table table-sm table-striped">
				<thead>
					<tr><th colspan="4">
							<form class="form-inline" id="price-editor-filter">
								<select class="form-control form-control-sm" style="max-width: 20em;" id="price-editor-filter-security">
									<option value="__all__">All securities</option>
								</select>
								<label for="price-editor-filter-after" class="ml-4 mr-1">Start date</label>
								<input type="date" id="price-editor-filter-after" class="form-control form-control-sm" placeholder="YYYY-MM-DD" pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}" />
								<label for="price-editor-filter-before" class="ml-4 mr-1">End date</label>
								<input type="date" id="price-editor-filter-before" class="form-control form-control-sm" placeholder="YYYY-MM-DD" pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}" />
								<button type="submit" class="btn btn-primary btn-sm ml-auto">Filter prices</button>
							</form>
					</th></tr>
					<tr>
						<th scope="col">Security</th>
						<th scope="col">Date</th>
						<th scope="col" class="text-right">Price</th>
						<th scope="col" class="text-right">Actions</th>
					</tr>
				</thead>
				<tbody></tbody>
			</table>
			<div class="modal fade" tabindex="-1" role="dialog" id="price-editor-modal">
				<div class="modal-dialog" role="document">
					<div class="modal-content">
						<form>
							<div class="modal-header">
								<h4 class="modal-title"></h4>
							</div>
							<div class="modal-content">
								<div class="form-group">
									<label for="price-editor-security">Security</label>
									<select id="price-editor-security" class="form-control" required="required"></select>
								</div>
								<div class="form-row">
									<div class="form-group col-md-6">
										<label for="price-editor-date">Date</label>
										<input type="date" id="price-editor-date" class="form-control" placeholder="YYYY-MM-DD" required="required" pattern="[0-9]{4}-[0-9]{2}-[0-9]{2}" />
									</div>
									<div class="form-group col-md-6">
										<label for="price-editor-price">Price</label>
										<div class="input-group">
											<div class="input-group-prepend"><div class="input-group-text" id="price-editor-currency"></div></div>
											<input type="number" step="any" id="price-editor-price" class="form-control" placeholder="eg 12.34" required="required"  />
										</div>
									</div>
								</div>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn btn-secondary" id="price-editor-modal-cancel">Cancel</button>
								<button type="submit" class="btn btn-primary" id="price-editor-modal-save">Save</button>
							</div>
						</form>
					</div>
				</div>
			</div>
		</div>
		<div class="modal fade" tabindex="-1" role="dialog" id="export-pf-modal">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h4 class="modal-title">Export portfolio</h4>
					</div>
					<div class="modal-content">
						<p class="lead text-center"></p>
					</div>
					<div class="modal-footer">
						<button class="btn btn-secondary" id="export-pf-modal-close">Close</button>
					</div>
				</div>
			</div>
		</div>
		<div class="modal fade" tabindex="-1" role="dialog" id="import-pf-modal">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<form>
						<div class="modal-header">
							<h4 class="modal-title">Import portfolio</h4>
						</div>
						<div class="modal-content">
							<p class="alert alert-warning"><strong>Importing a portfolio will erase all your current data. Be careful!</strong></p>
							<div class="form-group">
								<label for="import-pf-file">Pick a file…</label>
								<input type="file" id="import-pf-file" class="form-control-file" />
							</div>
						</div>
						<div class="modal-footer">
							<button type="button" class="btn btn-secondary" id="import-pf-modal-close">Cancel</button>
							<button type="submit" class="btn btn-primary" id="import-pf-modal-import">Import</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</body>
</html>
